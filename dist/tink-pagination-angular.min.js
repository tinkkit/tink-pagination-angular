/*! tink-pagination-angular v1.0.0 */
"use strict";!function(module){try{module=angular.module("tink.pagination")}catch(e){module=angular.module("tink.pagination",["ngLodash","tink.safeApply"])}module.directive("tinkPagination",["lodash",function(_){return{restrict:"EA",templateUrl:"templates/pagination.html",scope:{tinkTotalItems:"=",tinkItemsPerPage:"=",tinkItemsPerPageValues:"=",tinkCurrentPage:"=",tinkChange:"&",tinkPaginationId:"@"},controllerAs:"ctrl",controller:["$scope","$rootScope","$timeout",function($scope,$rootScope,timeout){function sendMessage(){$rootScope.$broadcast("tink-pagination-"+$scope.tinkPaginationId,"loading"),timeout(function(){$scope.tinkChange({page:$scope.tinkCurrentPage,perPage:$scope.tinkItemsPerPage,next:function(){$rootScope.$broadcast("tink-pagination-"+$scope.tinkPaginationId,"ready")}})},0)}var ctrl=this;ctrl.itemsPerPage=function(){if($scope.tinkItemsPerPageValues&&$scope.tinkItemsPerPageValues instanceof Array&&$scope.tinkItemsPerPageValues.length>0)return-1===$scope.tinkItemsPerPageValues.indexOf(parseInt($scope.tinkItemsPerPage))&&($scope.tinkItemsPerPage=$scope.tinkItemsPerPageValues[0]),$scope.tinkItemsPerPageValues;var basic=[5,10,20,30];return-1===basic.indexOf(parseInt($scope.tinkItemsPerPage))&&($scope.tinkItemsPerPage=basic[0]),basic},ctrl.perPageChange=function(){$rootScope.$broadcast("tink-pagination-"+$scope.tinkPaginationId,"loading"),timeout(function(){$scope.tinkChange({page:$scope.tinkCurrentPage,perPage:$scope.tinkItemsPerPage,next:function(){$rootScope.$broadcast("tink-pagination-"+$scope.tinkPaginationId,"ready")}})},0)},ctrl.setPage=function(page){$scope.tinkCurrentPage=page,sendMessage()},ctrl.setPrev=function(){$scope.tinkCurrentPage>1&&($scope.tinkCurrentPage=$scope.tinkCurrentPage-1),sendMessage()},ctrl.setNext=function(){$scope.tinkCurrentPage<ctrl.pages&&($scope.tinkCurrentPage=$scope.tinkCurrentPage+1),sendMessage()},ctrl.calculatePages=function(){var num=$scope.tinkCurrentPage;ctrl.pages=Math.ceil($scope.tinkTotalItems/$scope.tinkItemsPerPage),(ctrl.pages<=0||void 0===ctrl.pages||null===ctrl.pages||isNaN(ctrl.pages))&&(ctrl.pages=1),num>ctrl.pages?num=$scope.tinkCurrentPage=ctrl.pages:(0>=num||void 0===num||null===num)&&($scope.tinkCurrentPage=1);var arrayNums;return ctrl.pages<6?arrayNums=_.range(2,ctrl.pages):4>num?(arrayNums=_.range(2,4),arrayNums.push(-1)):arrayNums=num>=ctrl.pages-2?[-1].concat(_.range(ctrl.pages-2,ctrl.pages)):[-1,num,-1],ctrl.pages>1&&arrayNums.push(ctrl.pages),arrayNums}}]}}]).filter("limitNum",[function(){return function(input,limit){return input>limit?limit:input}}]).filter("tinkMin",[function(){return function(input,limit){return void 0===limit&&(limit=0),limit>input?limit:input}}]).filter("tinkNumber",[function(){return function(input,limit){return void 0===limit&&(limit=0),limit>input?limit:input}}]).directive("tinkPaginationKey",["$rootScope",function(rootScope){return{link:function($scope,element,attrs){rootScope.$on("tink-pagination-"+attrs.tinkPaginationKey,function(e,value){var table;table="TABLE"===element[0].tagName?$(element[0]):$(element).find("table"),"loading"===value?table.addClass("is-loading"):"ready"===value&&table.removeClass("is-loading")})}}}])}(),angular.module("tink.pagination").run(["$templateCache",function($templateCache){$templateCache.put("templates/pagination.html",'<div class=table-sort-options> <div class=table-sort-info> <strong>{{tinkTotalItems > 0 ? (tinkItemsPerPage*(tinkCurrentPage-1)+1 | number:0) : \'0\'}} - {{tinkItemsPerPage*tinkCurrentPage | limitNum:tinkTotalItems | tinkMin:0 | number:0}}</strong> van {{tinkTotalItems | tinkMin:0 | number:0}} <div class=select> <select data-ng-change=ctrl.perPageChange() data-ng-model=tinkItemsPerPage ng-options="o as o for o in ctrl.itemsPerPage()">> </select> </div> items per pagina </div> <div class=table-sort-pagination> <div class="btn-group btn-group-sm"> <a href="" class="btn prev" data-ng-class="{disabled:tinkCurrentPage===1}" data-ng-click="tinkCurrentPage===1 || ctrl.setPrev()" ng-disabled="tinkCurrentPage===1"><span>Vorige</span></a>\n<a href="" class=btn data-ng-class="{active:tinkCurrentPage===1}" data-ng-click=ctrl.setPage(1)><span>1</span></a>\n<a href="" class=btn data-ng-repeat="pag in ctrl.calculatePages() track by $index" data-ng-class="{active:pag===tinkCurrentPage}" data-ng-click="pag === -1 || ctrl.setPage(pag)"><span data-ng-if="pag !== -1">{{pag | number:0}}</span> <span data-ng-show="pag === -1">…<span></span></span></a>\n<a href="" class="btn next" data-ng-click="tinkCurrentPage===ctrl.pages || ctrl.setNext()" data-ng-class="{disabled:tinkCurrentPage===ctrl.pages}" ng-disabled="tinkCurrentPage===ctrl.pages"><span>Volgende</span></a> </div> </div> </div>')}]);
//# sourceMappingURL=tink-pagination-angular.min.map